%Este trabalho está licenciado sob a Licença Atribuição-CompartilhaIgual 4.0 Internacional Creative Commons. Para visualizar uma cópia desta licença, visite http://creativecommons.org/licenses/by-sa/4.0/deed.pt_BR ou mande uma carta para Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.

\chapter{Derivadas}\label{cap_deriv}
\thispagestyle{fancy}

\ifispython
\begin{obs}\normalfont{(Códigos \python}\label{obs:cap_deriv_python}
  Nos códigos \python~inseridos ao longo deste capítulo, estaremos assumindo o seguinte preâmbulo:
\begin{verbatim}
%matplotlib inline
from sympy import *
init_printing()
var('x',real=True)
\end{verbatim}
\end{obs}
\fi

\section{Derivada no ponto}\label{cap_deriv_sec_derivpt}

Nesta seção, vamos discutir sobre a noção de {\bf derivada de uma função em um ponto}. Começamos pelas noções de {\bf reta secante} e de {\bf reta tangente} ao gráfico de uma função. Em seguida, discutimos sobre as noções de {\bf taxa de variação média} e {\bf taxa de variação instantânea}. Por fim, definimos a derivada de uma função em um ponto.

\subsection{Retas secante e tangente}

Definimos a {\bf reta secante} ao gráfico de uma dada função $f$ pelos pontos $x_0$ e $x_1$, $x_0\neq x_1$, como sendo a reta determinada pela equação
\begin{equation}
  y = \frac{f(x_1)-f(x_0)}{x_1-x_0}(x-x_0)+f(x_0).
\end{equation}
Isto é, é a reta que passa pelos pontos $(x_0,f(x_0))$ e $(x_1,f(x_1))$. Veja a Figura \ref{fig:retsectg}. Observemos que o coeficiente angular da reta secante é
\begin{equation}
  m_{\text{sec}} = \frac{f(x_1)-f(x_0)}{x_1-x_0}.
\end{equation}

\begin{figure}[H]
  \centering
  \includegraphics[width=0.7\textwidth]{./cap_deriv/dados/fig_retsectg/fig_retsectg}
  \caption{Esboços de uma reta secante (verde) e da reta tangente (vermelho) ao gráfico de uma função.}
  \label{fig:retsectg}
\end{figure}

A {\bf reta tangente} ao gráfico de uma função $f$ em $x=x_0$ é a reta que passa pelo ponto $(x_0, f(x_0))$ e tem coeficiente angular
\begin{equation}\label{eq:mtg}
  m_{\text{tg}} = \lim_{x_1\to x_0} \frac{f(x_1)-f(x_0)}{x_1-x_0}.
\end{equation}
Isto é, a reta de equação
\begin{equation}
  y = m_{\text{tg}}(x-x_0)+f(x_0).
\end{equation}
Menos formal, é a reta limite das retas secantes ao gráfico da função pelos pontos $x_0$ e $x_1$, quando $x_1\to x_0$. Veja a Figura \ref{fig:retsectg}.

\begin{obs}
  Fazendo $h = x_1-x_0$, temos que \eqref{eq:mtg} é equivalente a
  \begin{equation}
    m_{\text{tg}} = \lim_{h\to 0} \frac{f(x_0+h)-f(x_0)}{h}.
  \end{equation}
\end{obs}

\begin{ex}
  Seja $f(x)=x^2$ e $x_0 = 1$. O coeficiente angular da reta secante ao gráfico de $f$ pelos pontos $x_0=1$ e $x_1 = 2$ é
  \begin{align}
    m_{\text{sec}} &= \frac{f(x_1)-f(x_0)}{x_1-x_0}\\
                   &= \frac{f(2) - f(1)}{2-1}\\
                   &= 4-1 = 3.
  \end{align}
  Logo, a reta secante ao gráfico de $f$ pelos pontos $x_0=1$ e $x_1=2$ tem equação
  \begin{align}
    y = m_{\text{sec}}(x-x_0) + f(x_0) &\Rightarrow y = 3(x-1)+f(1)\\
                                       &\Rightarrow y = 3x - 2.
  \end{align}
  Na Figura \ref{fig:cap_deriv_ex_rt_x2}, temos os esboços dos gráfico da função e da reta secante (verde).
  
  \begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{./cap_deriv/dados/fig_cap_deriv_ex_rt_x2/fig_cap_deriv_ex_rt_x2}
    \caption{Esboços dos gráficos de $f(x)=x^2$ (azul), da reta secante pelos pontos $x_0=1$ e $x_1=2$ (verde) e da reta tangente ao gráfico de $f$ no ponto $x_0 = 1$ (vermelho).}
    \label{fig:cap_deriv_ex_rt_x2}
  \end{figure}

  Agora, o coeficiente angular da reta tangente ao gráfico de $f$ no ponto $x_0$ é
  \begin{align}
    m_{\text{tg}} &= \lim_{h\to 0} \frac{f(x_0+h)-f(x_0)}{h}\\
                  &= \lim_{h\to 0} \frac{(1+h)^2-1}{h}\\
                  &= \lim_{h\to 0} \frac{1+2h+h^2-1}{h}\\
                  &= \lim_{h\to 0} \frac{2+h}{1} = 2.
  \end{align}
  Assim sendo, a reta tangente ao gráfico de $f(x)=x^2$ no ponto $x_0=1$ tem coeficiente angular $m_{\text{tg}} = 2$ e equação
  \begin{equation}
    y = 2(x-1)+1 = 2x-1.
  \end{equation}
  Na Figura \ref{fig:cap_deriv_ex_rt_x2}, temos os esboços dos gráfico da função e da reta tangente (vermelho).
  
  \ifispython
  Com o \sympy, podemos obter a expressão da reta secante com os seguintes comandos\footnote{Veja a Observação \ref{obs:cap_deriv_python}.}:
\begin{verbatim}
x0 = 1
x1 = 2
f = lambda x: x**2
msec = (f(x1)-f(x0))/(x1-x0)
msec*(x-x0)+f(x0)
\end{verbatim}
A expressão da reta tangente pode ser obtida com os seguintes comandos\footnote{Veja a Observação \ref{obs:cap_deriv_python}.}:
\begin{verbatim}
h = var("h",real=True)
x0 = 1
f = lambda x: x**2
mtg = limit((f(x0+h)-f(x0))/h,h,0)
mtg*(x-x0)+f(x0)
\end{verbatim}
  \fi
\end{ex}

\subsection{Taxas de variação}

A {\bf taxa de variação média} de uma função $f$ quando $x$ varia de $x_0$ a $x_1$ é definida como
\begin{equation}
  \frac{\Delta y}{\Delta x} := \frac{f(x_1)-f(x_0)}{x_1-x_0}. 
\end{equation}
Desta deriva-se a {\bf taxa de variação instantânea} de $f$ no ponto $x_0$, a qual é definida como
\begin{align}
  \left.\frac{\dd f}{\dd x}\right|_{x=x_0} &:= \lim_{x\to x_0} \frac{f(x)-f(x_0)}{x-x_0}\\
                             &= \lim_{h\to 0} \frac{f(x_0+h)-f(x_0)}{h}.
\end{align}
Em muitas áreas do conhecimento, estas taxa recebem nomes específicos.

\begin{ex}
  Seja $s = s(t)$ a função distância percorrida por um objeto no tempo. A {\bf velocidade média} (taxa de variação média da distância) do tempo $t_0$ ao tempo $t_1$ é
  \begin{equation}
    \frac{\Delta s}{\Delta t} = \frac{s(t_1)-s(t_0)}{t_1-t_0}.
  \end{equation}
  Por exemplo, se $s(t) = 15t^2+t$ (km), então a velocidade média do objeto entre $t_0=1$h e $t_1=3$h é
  \begin{align}
    \frac{\Delta s}{\Delta t} &= \frac{(15t_1^2+t_1)-(15t_0^2+t_0)}{t_1-t_0}\\
                              &= \frac{15\cdot 3^2+3-(15\cdot 1^2+1)}{3-1}\\
                              &= \frac{135+3-15-1}{2}\\
                              &= 61~\frac{\text{km}}{\text{h}}.
  \end{align}

  A {\bf velocidade} (taxa de variação instantânea da distância) no tempo $t_0=1$ é
  \begin{align}
    \left.\frac{\dd s}{\dd t}\right|_{t=t_0} &= \lim_{h\to 0} \frac{s(t_0+h)-s(t_0)}{h} \\
                                             &= \lim_{h\to 0} \frac{15(t_0+h)^2+(t_0+h)-\left(15t_0^2+t_0\right)}{h}\\
                                             &= \lim_{h\to 0} \frac{15t_0^2+30t_0h+15h^2+t_0+h-15t_0^2-t_0}{h}\\
                                             &= \lim_{h\to 0} \frac{30t_0h+15h^2+h}{h}\\
                                             &= \lim_{h\to 0} 30t_0 + 15h + 1 \\
                                             &= 30t_0+1 = 31~\frac{\text{km}}{\text{h}}.
  \end{align}
\end{ex}

\begin{ex}
  Seja $c(x) = \sqrt{x}$ (milhões de reais) o custo da produção em uma empresa em função do número de unidades produzidas (milhares). O {\bf custo médio da produção} de $x_0=4$ a $x_1=9$ é
  \begin{align}
    \frac{\Delta c}{\Delta x} &= \frac{c(x_1)-c(x_0)}{x_1-x_0}\\
                              &= \frac{\sqrt{x_1}-\sqrt{x_0}}{x_1-x_0}\\
                              &= \frac{\sqrt{9}-\sqrt{4}}{9-4}\\
                              &= \frac{3-2}{5} \\
                              &= 0,2~\frac{\text{R\$}}{\text{un}}.
  \end{align}

  O {\bf custo marginal} (taxa de variação instantânea do custo) quando a empresa está produzindo $x_0=4$ milhões de unidades é
  \begin{align}
    \left.\frac{\dd c}{\dd x}\right|_{x=x_0=4} &= \lim_{h\to 0} \frac{\sqrt{x_0+h}-\sqrt{x_0}}{h}\\
                                               &= \lim_{h\to 0} \frac{\sqrt{x_0+h}-\sqrt{x_0}}{h}\cdot \frac{\sqrt{x_0+h}+\sqrt{x_0}}{\sqrt{x_0+h}+\sqrt{x_0}}\\
                                               &= \lim_{h\to 0} \frac{x_0+h-x_0}{h(\sqrt{x_0+h}+\sqrt{x_0})}\\
                                               &= \lim_{h\to 0} \frac{1}{\sqrt{x_0+\cancelto{0}{h}}+\sqrt{x_0}}\\
                                               &= \frac{1}{2\sqrt{x_0}} = \frac{\sqrt{x_0}}{2x_0}\\
                                               &= \frac{\sqrt{4}}{2\cdot 4} = 0,25~\frac{\text{R\$}}{\text{un}}.
  \end{align}
\end{ex}

\begin{obs}
  Analogamente a custo marginal, temos as noções de rendimento marginal e lucro marginal.
\end{obs}

\subsection{Derivada em um ponto}

A {\bf derivada} de uma função $f$ {\bf em um ponto} $x=x_0$ é denotada por $f'(x_0)$ ou $\displaystyle \frac{\dd f}{\dd x}(x_0)$ e é definida por
\begin{equation}
  f'(x_0) = \left.\frac{\dd f}{\dd x}\right|_{x=x_0} := \lim_{h\to 0} \frac{f(x_0+h)-f(x_0)}{h}.
\end{equation}

\begin{ex}
  Vejamos os seguintes casos:
  \begin{enumerate}[a)]
  \item $f(x) = k$, $k$ constante.
    \begin{align}
      f'(x_0) &= \lim_{h\to 0} \frac{f(x_0+h)-f(x_0)}{h}\\
              &= \lim_{h\to 0} \frac{k-k}{h} = 0.
    \end{align}
  \item $f(x) = x$.
    \begin{align}
      f'(x_0) &= \lim_{h\to 0} \frac{f(x_0+h)-f(x_0)}{h} \\
              &= \lim_{h\to 0} \frac{x_0+h-x_0}{h} = 1.
    \end{align}
  \item $f(x) = \sqrt{x}$, $x_0=1$.
    \begin{align}
      f'(1) &= \lim_{h\to 0} \frac{\sqrt{1+h}-\sqrt{1}}{h}\\
            &= \lim_{h\to 0} \frac{\sqrt{1+h}-\sqrt{1}}{h} \cdot \frac{\sqrt{1+h}+\sqrt{1}}{\sqrt{1+h}+\sqrt{1}}\\
            &= \lim_{h\to 0} \frac{1+h-1}{h(\sqrt{1+h}+1)} = \frac{1}{2}.
    \end{align}
  \end{enumerate}
\end{ex}

\begin{ex}
  Assuma que o rendimento de uma empresa é modelado por $r(x) = x^2$ (milhões de reais), onde $x$ é o número em milhões de unidades vendidas. O {\bf rendimento marginal} quando $x=x_0=1$ é
  \begin{align}
    r'(x_0) &= \lim_{x\to x_0}\frac{(x_0+h)^2-x_0^2}{h}\\
            &= \lim_{x\to x_0}\frac{x_0^2+2x_0h+h^2-x_0^2}{h}\\
            &= \lim_{x\to x_0} 2x_0h + h = 2x_0 = 2~\frac{\text{R\$}}{\text{un}}
  \end{align}
\end{ex}

\subsection*{Exercícios resolvidos}

\begin{exeresol}
  Determine a equação da reta tangente ao gráfico de $f(x) = \sqrt{x}$ no ponto $x_0=4$. Faça, então, os esboços dos gráficos de $f$ e da reta tangente em um mesmo plano cartesiano.
\end{exeresol}
\begin{resol}
  A equação da reta tangente ao gráfico da função $f$ no ponto $x_0=4$ é
  \begin{equation}
    y = f'(x_0)(x-x_0)+f(x_0).
  \end{equation}
  A derivada de $f$ no ponto $x_0$ é
  \begin{align}
    f'(x_0) &= \lim_{x\to x_0} \frac{f(x_0+h)-f(x_0)}{h}\\
            &= \lim_{x\to 4} \frac{\sqrt{4+h}-\sqrt{4}}{h}\\
            &= \lim_{x\to 4} \frac{\sqrt{4+h}-2}{h} \cdot \frac{\sqrt{4+h}+2}{\sqrt{4+h}+2}\\
            &= \lim_{x\to 4} \frac{4+h-4}{h(\sqrt{4+h}+2)}\\
            &= \frac{1}{\sqrt{4}+2} = \frac{1}{4}.
  \end{align}
  Portanto, a equação da reta tangente é
  \begin{equation}
    y = \frac{1}{4}(x-4)+\sqrt{4} \Rightarrow y = \frac{1}{4}x+1.
  \end{equation}
  Veja a Figura \ref{fig:cap_deriv_exeresol_rt_sqrt} para os esboços dos gráfico de $f$ e da reta tangente.

  \begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{./cap_deriv/dados/fig_cap_deriv_exeresol_rt_sqrt/fig_cap_deriv_exeresol_rt_sqrt}
    \caption{Esboços do gráfico da função $f$ e da reta tangente no ponto $x_0=4$.}
    \label{fig:cap_deriv_exeresol_rt_sqrt}
  \end{figure}
\end{resol}

\begin{exeresol}
  Considere que a produção em uma empresa tem custo
  \begin{equation}
    c(x) = \sqrt{x}
  \end{equation}
  e rendimento
  \begin{equation}
    r(x) = x^2,
  \end{equation}
  onde $x$ é o número de unidades (em milhões) produzidas. Calcule o lucro marginal da empresa quando $x=1$ mi.
\end{exeresol}
\begin{resol}
  O lucro é
  \begin{equation}
    l(x) = r(x) - c(x).
  \end{equation}
  Desta forma, o lucro marginal no ponto $x_0=1$ é
  \begin{align}
    l'(x_0) &= \lim_{h\to 0} \frac{l(x_0+h)-l(x_0)}{h}\\
            &= \lim_{h\to 0} \frac{r(x_0+h)-c(x_0+h)-(r(x_0)-c(x_0))}{h}\\
            &= \lim_{h\to 0} \frac{r(x_0+h)-r(x_0) - (c(x_0+h)-c(x_0))}{h}\\
            &= \lim_{h\to 0} \frac{r(x_0+h)-r(x_0)}{h} - \lim_{h\to 0} \frac{c(x_0+h)-c(x_0)}{h}\\
            &= r'(x_0) - c'(x_0)\\
            &= 2x_0 - \frac{1}{2\sqrt{x_0}}\\
            &= 2 - \frac{1}{2} = 1,5~\frac{\text{R\$}}{\text{un}}.
  \end{align}
\end{resol}


\subsection*{Exercícios}

\begin{exer}
  Calcule as derivadas conforme indicado:
  \begin{enumerate}[a)]
  \item $f(x) = 2$, $f'(-1)$;
  \item $g(x) = 10^6$, $g'(10^8)$;
  \item $h(x) = \ln 2e$, $h'(-\pi)$;
  \end{enumerate}
\end{exer}
\begin{resp}
  a)~$0$; b)~$0$; c)~$0$
\end{resp}

\begin{exer}
  Calcule as derivadas conforme indicado:
  \begin{enumerate}[a)]
  \item $f(x) = 2 + x$, $f'(-1)$;
  \item $g(x) = 10^6 - 2x$, $g'(-3)$;
  \item $h(x) = \ln(2e) + ex$, $h'(10^6)$;
  \end{enumerate}  
\end{exer}
\begin{resp}
  a)~$-1$; b)~$-2$; c)~$e$
\end{resp}

\begin{exer}
  Calcule as derivadas conforme indicado:
  \begin{enumerate}[a)]
  \item $f(x) = x$, $f'(-1)$;
  \item $g(x) = -2x$, $g'(-3)$;
  \item $h(x) = ex$, $h'(10^6)$;
  \end{enumerate}  
\end{exer}
\begin{resp}
  a)~$-1$; b)~$-2$; c)~$e$
\end{resp}

\begin{exer}
  Determine a reta secante ao gráfico de $f(x) = 5-x^2$ pelos pontos $x_0=1$ e $x_1=2$. Então, determine a reta tangente ao gráfico de $f$ no ponto $x_0=1$. Por fim, faça os esboços dos gráficos de $f$, da reta secante e da reta tangente em um mesmo plano cartesiano.
\end{exer}
\begin{resp}
  reta secante: $y = -3x + 7$; reta tangente: $y = -2x + 6$; dica: verifique seus esboços plotando os gráficos no computador
\end{resp}

\begin{exer}
  Assumindo que, em uma empresa, a produção tenha o custo $c(x) = 2\sqrt{x}$ e rendimento $r(x) = \frac{1}{100}x^3$, dados em milhões de reais com $x$ em milhares de unidades. Calcule:
  \begin{enumerate}[a)]
  \item o custo marginal quando $x = 1$;
  \item o rendimento marginal quando $x = 1$;
  \item o lucro marginal quando $x=1$.
  \end{enumerate}
\end{exer}
\begin{resp}
  a)~$1000~\frac{\text{R}\$}{\text{un}}$; b)~$30~\frac{\text{R\$}}{\text{un}}$; c)~$-970~\frac{\text{R\$}}{\text{un}}$.
\end{resp}


\section{Função derivada}\label{cap_deriv_sec_funder}

A {\bf derivada} de uma função $f$ em relação à variável $x$ é a função $\displaystyle f' = \frac{\dd f}{\dd x}$ cujo valor em $x$ é
\begin{equation}\label{eq:derivada}
  f'(x) = \lim_{h\to 0} \frac{f(x+h)-f(x)}{h},
\end{equation}
quando este limite existe. Dizemos que $f$ é {\bf derivável} (ou {\bf diferenciável}) em um ponto $x$ de seu domínio, quando o limite dado em \eqref{eq:derivada} existe. Se isso ocorre para todo número real $x$, dizemos que $f$ é derivável em toda parte.

\begin{ex}
  A derivada de $f(x) = x^2$ é
  \begin{align}
    f'(x) &= \lim_{h\to 0} \frac{f(x+h)-f(x)}{h}\\
          &= \lim_{h\to 0} \frac{(x+h)^2 - x^2}{h}\\
          &= \lim_{h\to 0} \frac{x^2+2xh+h^2-x^2}{h}\\
          &= \lim_{h\to 0} 2x+h = 2x.
  \end{align}
  Observamos que este é o caso de uma função derivável em toda parte.A Figura \ref{fig:deriv_ex_ffl_x2}.

  \begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{./cap_deriv/dados/fig_deriv_ex_ffl_x2/fig_deriv_ex_ffl_x2}
    \caption{Esboços dos gráficos da função $f(x)=x^2$ e de sua derivada $f'(x) = 2x$.}
    \label{fig:deriv_ex_ffl_x2}
  \end{figure}  
  
  \ifispython
  Com o \sympy\footnote{Veja a Observação \ref{obs:cap_deriv_python}.}, podemos usar os seguintes comandos para verificarmos este resultado:
\begin{verbatim}
h = symbols('h',real=True)
f = lambda x: x**2
limit((f(x+h)-f(x))/h,h,0)
\end{verbatim}

  Mais adequadamente, podemos usar o comando:
\begin{verbatim}
diff(x**2,x)
\end{verbatim}
  ou, equivalentemente,
\begin{verbatim}
diff(x**2)
\end{verbatim}
  para computar a derivada de $x^2$ em relação a $x$.
  \fi
\end{ex}

\begin{obs}
  A derivada à direita (à esquerda) de uma função $f$ em um ponto $x$ é definida por
  \begin{equation}
    f_{\pm}'(x) = \frac{\dd f}{\dd x^{\pm}} = \lim_{h\to 0^\pm} \frac{f(x+h)-f(x)}{h}.
  \end{equation}
  Desta forma, no caso de pontos extremos do domínio de uma função, empregamos a derivada lateral correspondente.
\end{obs}

\begin{ex}
  Vamos calcular a derivada de $f(x) = \sqrt{x}$. Para $x=0$, só faz sentido calcular a derivada lateral à direta:
  \begin{align}
    f'_{+}(0) &= \lim_{h\to 0^+} \frac{\sqrt{0+h}-\sqrt{0}}{h} \\
              &= \lim_{h\to 0^+} \frac{\sqrt{h}}{h} \\
              &= \lim_{h\to 0^+} \frac{1}{\cancelto{0^+}{\sqrt{h}}} = +\infty.
  \end{align}
  Ou seja, $f(x) = \sqrt{x}$ não é derivável em $x=0$. Agora, para $x> 0$, temos
  \begin{align}
    f'(x) &= \lim_{h\to 0} \frac{\sqrt{x+h}-\sqrt{x}}{h}\\
          &= \lim_{h\to 0} \frac{\sqrt{x+h}-\sqrt{x}}{h}\cdot \frac{\sqrt{x+h}+\sqrt{x}}{\sqrt{x+h}+\sqrt{x}}\\
          &= \lim_{h\to 0} \frac{x+h-x}{h(\sqrt{x+h}+\sqrt{x})}\\
          &= \frac{1}{2\sqrt{x}}.
  \end{align}
  Na Figura \ref{fig:deriv_ex_ffl_sqrtx}, temos os esboços dos gráficos desta função e de sua derivada.

  \begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{./cap_deriv/dados/fig_deriv_ex_ffl_sqrtx/fig_deriv_ex_ffl_sqrtx}
    \caption{Esboços dos gráficos da função $f(x)=\sqrt{x}$ e de sua derivada.}
    \label{fig:deriv_ex_ffl_sqrtx}
  \end{figure}

  \ifispython
  No \sympy\footnote{Veja a Observação \ref{obs:cap_deriv_python}.}, a computação de $f'_{+}(0)$ pode ser feita com os comandos\footnote{Por padrão no \sympy, o limite é tomado à direita.}:
\begin{verbatim}
var('h', real=True)
limit((sqrt(0+h)-sqrt(0))/h,h,0)
\end{verbatim}
  E, a derivada de $f(x) = \sqrt{x}$ (nos pontos de diferenciabilidade) pode ser obtida com o comando:
\begin{verbatim}
diff(sqrt(x),x)
\end{verbatim}
  \fi
\end{ex}

\begin{ex}
  A função valor absoluto é derivável para todo $x\neq 0$ e não é derivável em $x=0$. De fato, para $x<0$ temos
  \begin{align}
    f'(x) &= \lim_{h\to 0} \frac{|x+h|-|x|}{h}\\
          &= \lim_{h\to 0} \frac{-(x+h)+x}{h}\\
          &= \lim_{h\to 0} \frac{h}{h} = 1.
  \end{align}
  Analogamente, para $x>0$ temos
  \begin{align}
    f'(x) &= \lim_{h\to 0} \frac{|x+h|-|x|}{h}\\
          &= \lim_{h\to 0} \frac{x+h-x}{h}\\
          &= \lim_{h\to 0} \frac{h}{h} = 1.
  \end{align}
  Agora, para $x=0$, devemos verificar as derivadas laterais:
  \begin{align}
    f'_+(0) &= \lim_{h\to 0^+} \frac{|h|-|0|}{h} = \lim_{h\to 0^+} \frac{h}{h} = 1,\\
    f'_-(0) &= \lim_{h\to 0^-} \frac{|h|-|0|}{h} = \lim_{h\to 0^-} \frac{-h}{h} = -1.
  \end{align}
  Como as derivadas laterais são diferentes, temos que $y = |x|$ não é derivável em $x=0$. Na figura \ref{fig:deriv_ex_ffl_absx}, temos os esboços dos gráficos de $f(x) = |x|$ e sua derivada
  \begin{equation}\label{eq:deriv_signx}
    f'(x) = \left\{
      \begin{array}[H]{rr}
        -1 &, x<0,\\
        1 &, x> 0
      \end{array}
    \right.
  \end{equation}
  Esta é chamada de {\bf função sinal} e denotada por $\sign(x)$. Ou seja, a função sinal é a derivada da função valor absoluto.

  \begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{./cap_deriv/dados/fig_deriv_ex_ffl_absx/fig_deriv_ex_ffl_absx}
    \caption{Esboços dos gráficos da função $f(x)=|x|$ e de sua derivada.}
    \label{fig:deriv_ex_ffl_absx}
  \end{figure}

  \ifispython
  No \sympy\footnote{Veja a Observação \ref{obs:cap_deriv_python}.}, podemos computar a derivada da função valor absoluto com o comando:
\begin{verbatim}
diff(abs(x))
\end{verbatim}
  \fi
\end{ex}

\subsection*{Exercícios resolvidos}

\begin{exeresol}
  Calcule a derivada da função $f(x) = x^2 + 2x + 1$ em relação a $x$.
\end{exeresol}
\begin{resol}
  Por definição da derivada, temos
  \begin{align}
    f'(x) &= \lim_{h\to 0} \frac{f(x+h)-f(x)}{h}\\
          &= \lim_{h\to 0} \frac{(x+h)^2 + 2(x+h) + 1 - (x^2+2x+1)}{h}\\
          &= \lim_{h\to 0} \frac{x^2+2xh+h^2+2x+2h+1-x^2-2x-1}{h}\\
          &= \lim_{h\to 0} \frac{2xh+h^2+2h}{h}\\
          &= \lim_{h\to 0} 2x+h+2 = 2x+2.
  \end{align}
\end{resol}

\begin{exeresol}
  Determine os pontos de diferenciabilidade da função $f(x) = |x-1|$.
\end{exeresol}
\begin{resol}
  O gráfico da função $f(x) = |x-1|$ tem um bico no ponto $x=1$ (verifique!). Para valores de $x<1$, temos
  \begin{align}
    f'(x) &= \lim_{h\to 0} \frac{f(x+h) - f(x)}{h}\\
          &= \lim_{h\to 0} \frac{|\overbrace{x+h-1}^{<0}| - |\overbrace{x-1}^{<0}|}{h}\\
          &= \lim_{h\to 0} \frac{-x-h+1+x-1}{h}\\
          &= \lim_{h\to 0} \frac{-h}{h} = -1.
  \end{align}
  Para valores de $x > 1$, temos
  \begin{align}
    f'(x) &= \lim_{h\to 0} \frac{f(x+h) - f(x)}{h}\\
          &= \lim_{h\to 0} \frac{|\overbrace{x+h-1}^{>0}| - |\overbrace{x-1}^{>0}|}{h}\\
          &= \lim_{h\to 0} \frac{x+h-1-x+1}{h}\\
          &= \lim_{h\to 0} \frac{h}{h} = 1.
  \end{align}
  Ou seja, temos que $f(x) = |x-1|$ é diferenciável para $x\neq 1$. Agora, para $x=1$, temos
  \begin{align}
    f'_{-}(x) &= \lim_{h\to 0^{-}} \frac{f(1+h) - f(1)}{h}\\
              &= \lim_{h\to 0^{-}} \frac{|\overbrace{h}^{<0}| - |1-1|}{h}\\
              &= \lim_{h\to 0^{-}} \frac{-h}{h} = -1\\
    f'_{+}(x) &= \lim_{h\to 0^{+}} \frac{f(1+h) - f(1)}{h}\\
          &= \lim_{h\to 0^{+}} \frac{|\overbrace{h}^{>0}| - |1-1|}{h}\\
              &= \lim_{h\to 0^{+}} \frac{h}{h} = 1\\
  \end{align}
  Como $f'_{-}(1)\neq f'_{+}(1)$, temos que $\nexists f'(1)$. Concluímos que $f(x) = |x-1|$ é diferenciável nos pontos $\mathbb{R}\setminus\{1\}$. 
\end{resol}

\subsection*{Exercícios}

\begin{exer}
  Calcule a derivada em relação a $x$ de cada uma das seguintes funções:
  \begin{enumerate}[a)]
  \item $f(x) = 2$
  \item $g(x) = -3$
  \item $h(x) = \sqrt{e}$
  \end{enumerate}
\end{exer}
\begin{resp}
  a)~$0$; b)~$0$; c)~$0$
\end{resp}

\begin{exer}
  Calcule a derivada em relação a $x$ de cada uma das seguintes funções:
  \begin{enumerate}[a)]
  \item $f(x) = 2x$
  \item $g(x) = -3x$
  \item $h(x) = \sqrt{e}x$
  \end{enumerate}
\end{exer}
\begin{resp}
  a)~$2$; b)~$-3$; c)~$\sqrt{e}$
\end{resp}

\begin{exer}
  Calcule a derivada em relação a $x$ da função
  \begin{equation}
    f(x) = x^2 - 2x + 1.
  \end{equation}
\end{exer}
\begin{resp}
  $f'(x) = 2x - 2$
\end{resp}

\begin{exer}
  Determine os pontos de diferenciabilidade da função $f(x) = \sqrt{x-1}$.
\end{exer}
\begin{resp}
  $(1, \infty)$
\end{resp}

\section{Regras básicas de derivação}\label{cap_deriv_sec_regras}

Vejamos as derivadas da função constante e da função potência.
\begin{itemize}
\item $\displaystyle \frac{\dd k}{\dd x} = 0$, onde $k$ é uma constante.

  Dem.: Com $f(x) \equiv k$ temos
  \begin{align}
    \frac{\dd k}{\dd x} &= \lim_{h\to 0} \frac{f(x+h)-f(x)}{h}\\
                        &= \lim_{h\to 0} \frac{k-k}{h} \\
                        &= \lim_{h\to 0} 0 = 0.
  \end{align}
  \ifispython
  No \verb+SymPy+, podemos usar os seguintes comandos para obtermos tal regra de derivação:
\begin{verbatim}
k = symbols('k',real=True)
diff(k,x)
\end{verbatim}
  \fi
  

\item $\displaystyle \frac{\dd x^n}{\dd x} = nx^{n-1}$, para $n$ inteiro positivo.

  Dem.: Com $f(x) = x^n$, temos
  \begin{align}
    \frac{\dd x^n}{\dd x} &= \lim_{h\to 0} \frac{f(x+h)-f(x)}{h}\\
                          &= \lim_{h\to 0} \frac{(x+h)^n-x^n}{h} \\
                          &= \lim_{h\to 0} \frac{x^n+nx^{n-1}h+\frac{n(n-1)}{2}x^{n-2}h^2 + \cdots +h^n-x^n}{h}\\
                          &= \lim_{h\to 0} nx^{n-1}+\frac{n(n-1)}{2}x^{n-2}h+\cdots+h^{n-1}\\
                          &= nx^{n-1}.
  \end{align}
  \ifispython
  No \verb+SymPy+, podemos usar os seguintes comandos para obtermos tal regra de derivação:
\begin{verbatim}
n = symbols('n',integer=True, positive=True)
simplify(diff(x**n,x))
\end{verbatim}
  \fi
\end{itemize}

\begin{ex}
  Vejamos os seguintes casos:
  \begin{enumerate}[a)]
  \item $\displaystyle \frac{\dd \sqrt{2}}{\dd x} = 0$.
  \item $\displaystyle \frac{\dd x^3}{\dd x} = 3x^2$.
  \end{enumerate}
\end{ex}

\subsection{Multiplicação por constante e soma}

Sejam $c$ um número real, $u$ e $v$ funções. Temos as seguintes regras básicas de derivação:
\begin{itemize}
\item $\displaystyle (cu)' = cu'$.

  Dem.:
  \begin{align}
    \frac{\dd}{\dd x}(cu)(x) &= \lim_{h\to 0} \frac{cu(x+h)-cu(x)}{h} \\
                          &= c\lim_{h\to 0} \frac{u(x+h)-u(x)}{h} \\
                          &= c\frac{\dd u}{\dd x}.
  \end{align}
  \ifispython
  No \verb+SymPy+, podemos usar os seguintes comandos para obtermos tal regra de derivação:
\begin{verbatim}
c = symbols('c', real=True)
u = Function('u', real=True)(x)
diff(c*u,x)
\end{verbatim}
  \fi

\item $\displaystyle (u\pm v)' = u'\pm v'$.

  Dem.:
  \begin{align}
    (u\pm v)'(x) &= \lim_{h\to 0} \frac{(u\pm v)(x+h)-(u\pm v)(x)}{h}\\
                              &= \lim_{h\to 0} \left[\frac{u(x+h)-u(x)}{h}\pm\frac{v(x+h)-v(x)}{h}\right]\\
              &= u'(x) \pm v'(x).
  \end{align}
  \ifispython
  No \verb+SymPy+, podemos usar os seguintes comandos para obtermos a regra de derivação para soma:
\begin{verbatim}
u = Function('u', real=True)(x)
v = Function('v', real=True)(x)
diff(u+v,x)
\end{verbatim}
  \fi
\end{itemize}

\begin{ex}
  \begin{align}
    \frac{\dd}{\dd x}(x^3-2x -1) &= \frac{\dd}{\dd x}x^3 -2\frac{\dd x}{\dd x} - \frac{\dd 1}{\dd x}\\
                                 &= 3x^2-2.
  \end{align}
\end{ex}

\subsection{Produto e quocientes}

Sejam $y = u(x)$ e $y = v(x)$ funções deriváveis, com $v(x)\neq 0$. Então:
\begin{itemize}
\item $(uv)' = u'v+uv'$.

  Dem.:
  \begin{align}
    (uv)'(x) &= \lim_{h\to 0} \frac{(uv)(x+h)-(uv)(x)}{h}\\
             &= \lim_{h\to 0} \frac{u(x+h)v(x+h)-u(x)v(x)}{h}\\
             &= \lim_{h\to 0} \left[\frac{u(x+h)v(x+h)-u(x)v(x+h)}{h}\right.\\
             &\qquad\quad+ \left.\frac{u(x)v(x+h)-u(x)v(x)}{h}\right]\\
             &= \lim_{h\to 0} \frac{u(x+h)-u(x)}{h}v(v+h) \\
             &+ \lim_{h\to 0} u(x)\frac{v(x+h)-v(x)}{h}\\
             &= u'(x)v(x) + u(x)v'(x).
  \end{align}
  \ifispython
  No \verb+SymPy+, podemos usar os seguintes comandos para obtermos tal regra de derivação:
\begin{verbatim}
u = Function('u', real=True)(x)
v = Function('v', real=True)(x)
diff(u*v,x)
\end{verbatim}
  \fi
\item $\displaystyle\left(\frac{u}{v}\right)' = \frac{u'v-uv'}{v^2}$.

  Dem.:
  \begin{align}
    \left(\frac{u}{v}\right)'(x) &= \lim_{h\to 0} \frac{\left(\frac{u}{v}\right)(x+h)-\left(\frac{u}{v}\right)(x)}{h} \\
                                 &= \lim_{h\to 0} \frac{\frac{u(x+h)v(x)-u(x)v(x+h)}{v(x+h)v(x)}}{h}\\
                                 &= \lim_{h\to 0} \left[\frac{u(x+h)v(x)-u(x)v(x)}{h}\right. \\
                                 &\qquad\quad - \left.\frac{u(x)v(x+h)-u(x)v(x)}{h}\right]\frac{1}{v(x)v(x+h)}\\
                                 &= \left[\lim_{h\to 0} \frac{u(x+h)-u(x)}{h}v(x)\right. \\
                                 &\left. - \lim_{h\to 0} u(x)\frac{v(x+h)-v(x)}{h}\right]\lim_{h\to 0} \frac{1}{v(x)v(x+h)}\\
                                 &= \frac{u'(x)v(x)-u(x)v'(x)}{v^2(x)}.
  \end{align}
  \ifispython
  No \verb+SymPy+, podemos usar os seguintes comandos para obtermos tal regra de derivação:
\begin{verbatim}
u = Function('u', real=True)(x)
v = Function('v', real=True)(x)
simplify(diff(u/v,x))
\end{verbatim}
  \fi
\end{itemize}

\begin{ex}
  Vejamos os seguintes casos:
  \begin{enumerate}[a)]
  \item
    \begin{align}
      \frac{\dd}{\dd x}\left[(x^2+x)(1 + x^3)\right] &= \left[\frac{\dd}{\dd x} (x^2+x)\right](1+x^3) \\
                                                     &+ (x^2+x)\left[\frac{\dd}{\dd x}(1+x^3)\right]\\
                                                     &= (2x+1)(1+x^3)+(x^2+x)3x^2\\
                                                     &= 2x+2x^4+1+x^3+3x^4+3x^3\\
                                                     &= 5x^4+4x^3+2x+1.
    \end{align}
    \ifispython
    Com o \sympy, podemos computar esta derivada com o seguinte comando\footnote{Veja a Observação \ref{obs:cap_deriv_python}.}:
\begin{verbatim}
d = diff((x**2+x)*(1+x**3),x)
simplify(d)
\end{verbatim}
    \fi

\item
  \begin{align}
    \frac{\dd}{\dd x}\left(\frac{x^2+x}{1-x^3}\right) &= \frac{\left[\frac{\dd}{\dd x}(x^2+x)\right](1-x^3)-(x^2+x)\left[\frac{\dd}{\dd x}(1-x^3)\right]}{(1-x^3)^2}\\
                                                      &= \frac{(2x+1)(1-x^3)+(x^2+x)3x^2}{1-2x^3+x^6} \\
                                                      &= \frac{2x-2x^4+1-x^3+3x^4+3x^3}{1-2x^3+x^6} \\
                                                      &= \frac{x^4+2x^3+2x+1}{x^6-2x^3+1}
  \end{align}
  \ifispython
  Com o \sympy, podemos computar esta derivada com o seguinte comando\footnote{Veja a Observação \ref{obs:cap_deriv_python}.}:
\begin{verbatim}
d = diff((x**2+x)/(1-x**3),x)
simplify(d)
\end{verbatim}
  \fi
  \end{enumerate}
\end{ex}

\begin{obs}\normalfont{(Derivada de funções potência)}
  No início desta seção, vimos que
  \begin{equation}
    \frac{\dd x^n}{\dd x} = nx^{n-1},
  \end{equation}
  para $n>0$ inteiro. Agora, podemos afirmar que este é, também, o caso quando $n<0$ inteiro. De fato, se $n < 0$, então
  \begin{align}
    (x^n)' &= \left(\frac{1}{x^{-n}}\right)\\
           &= \frac{(1)'x^{-n}-1\cdot\left(x^{-n}\right)'}{\left(x^{-n}\right)^2}\\
           &= \frac{0-(-n)x^{-n-1}}{x^{-2n}}\\
           &= nx^{2n-n-1} = nx^{n-1}.
  \end{align}
  \ifispython
  O \verb+SymPy+, obtém o mesmo resultado, verifique usando os comandos:
\begin{verbatim}
var('n',integer=True)
simplify(diff(x**n,x))
\end{verbatim}
  \fi
\end{obs}

\begin{ex}
  \begin{equation}
    \frac{\dd}{\dd x}x^{-5} = -5x^{-5-1} = -5x^{-4}.
  \end{equation}
\end{ex}


\subsection{Derivadas de funções exponenciais}

Seja $f(x) = a^x$, $a>0$ e $a\neq 1$. Então
\begin{align}
  f'(x) &= \lim_{h\to 0} \frac{f(x+h)-f(x)}{h}\\
        &= \lim_{h\to 0} \frac{a^{x+h}-a^x}{h} \\
        &= \lim_{h\to 0} \frac{a^xa^h-a^x}{h} \\
        &= a^x \lim_{h\to 0} \frac{a^h-1}{h}
\end{align}
Pode-se mostrar que
\begin{equation}
  \lim_{h\to 0} \frac{a^h-1}{h} = \ln a.
\end{equation}
Desta forma, temos
\begin{equation}
  \frac{\dd a^x}{\dd x} = a^x\ln a.
\end{equation}

Para a função exponencial natural $y = e^x$, temos
\begin{align}
  \frac{\dd e^x}{\dd x} &= e^x\ln e\\
                        &= e^x.
\end{align}


\begin{ex}
Vejamos os seguintes casos:
\begin{enumerate}[a)]
\item $\displaystyle\frac{\dd 2^x}{\dd x} = 2^x\ln 2$.
\item
  \begin{align}
    \frac{\dd e^{2x}}{\dd x} &= \frac{\dd}{\dd x}(e^xe^x)\\
                             &= e^xe^x + e^xe^x\\
                             &= 2e^{2x}.
  \end{align}
\end{enumerate}  
\end{ex}

\subsection{Derivadas de ordens mais altas}

A derivada de uma função $y = f(x)$ em relação a $x$ é a função $y = f'(x)$. Quando esta é diferenciável, podemos calcular a derivada da derivada. Esta é conhecida como a {\bf segunda derivada} de $f$, denotamos
\begin{equation}
  f''(x) := (f'(x))' ~ \text{ou} ~ \frac{\dd^2}{\dd x}f(x) = \frac{\dd}{\dd x}\left(\frac{\dd}{\dd x}f(x)\right).
\end{equation}

\begin{ex}
  Seja $f(x) = 1/x$. Então, a primeira derivada de $f$ é
  \begin{equation}
    f'(x) = [x^{-1}]' = -x^{-2}.
  \end{equation}
  De posse da primeira derivada, podemos calculamos a segunda derivada de $f$, como segue:
  \begin{equation}
    f''(x) = [f'(x)]' = [-x^{-2}]' = 2x^{-3}.
  \end{equation}
\end{ex}

Generalizando, quando existe, a $n$-ésima derivada de uma função $y = f(x)$, $n\geq 1$, é recursivamente definida (e denotada) por
\begin{equation}
  f^{(n)}(x) := [f^{(n-1)}]' ~ \text{ou} ~ \frac{\dd^n}{\dd x^n}f(x) := \frac{\dd}{\dd x}\left[\frac{\dd^{n-1}}{\dd x^{n-1}}f(x)\right],
\end{equation}
com $f^{(3)}\equiv f'''$, $f^{(2)}\equiv f''$, $f^{(1)}\equiv f'$ e $f^{(0)}\equiv f$.

\begin{ex}
  \begin{enumerate}[a)]
  \item Para obtermos a terceira derivada de $f(x) = x^3 -2x$, calculamos
    \begin{equation}
      f'(x) = 3x^2-2.
    \end{equation}
    então
    \begin{equation}
      f''(x) = 6x
    \end{equation}
    e, finalmente,
    \begin{equation}
      f'''(x) = 6.
    \end{equation}
    \ifispython
    Com o \verb+Sympy+, podemos computar esta derivada com o seguinte comando:
\begin{verbatim}
diff(x**3-2*x,x,3)
\end{verbatim}
    \fi
  \item A milionésima primeira derivada de $f(x) = e^x$ é $f^{(1001)}(x) = e^x$. Verifique!
  \end{enumerate}
\end{ex}

\emconstrucao

\subsection*{Exercícios}

\emconstrucao

\section{Taxa de variação}\label{cap_deriv_sec_apl}

Observamos que a razão
\begin{equation}
  \frac{f(x_0+h)-f(x_0)}{h}
\end{equation}
pode ser entendida como a {\bf taxa de variação média} de $f$ no intervalo de $x_0$ a $x_0+h$, $h\neq 0$. Tomando o limite de $h\to 0$,
\begin{equation}
  \lim_{h\to 0} \frac{f(x_0+h)-f(x_0)}{h} = f'(x_0),
\end{equation}
temos a {\bf taxa de variação instantânea} de $f$ em relação a $x$ no ponto $x_0$, i.e. a taxa com que $f$ varia no ponto $x=x_0$.

\begin{ex}\normalfont{(Taxa de variação)}
  Suponhamos que o número de litros de água em um tanque, $t$ minutos depois de iniciar seu esvaziamento, é dado por $V = 2000(40-t)^2$. Deste modelo, podemos tirar várias conclusões.
  \begin{enumerate}[a)]
  \item A taxa média do volume de água no tanque nos primeiros $10$ minutos é:
    \begin{align}
      \frac{V(t_0+h)-V(t_0)}{h} &= \frac{V(0+10)-V(0)}{10} \\
                               &= \frac{2000\cdot 30^2-2000\cdot 40^2}{10} \\
                               &= 200(900-1600) = 100\,000 ~ \text{L}/\text{min}.
    \end{align}
  \item Podemos obter a taxa instantânea do volume de água no tanque em $t=10$ minutos. Para tanto, calculamos a derivada
    \begin{align}
      V'(t) &= -160\,000 + 4000t. 
    \end{align}
    Assim, temos que a taxa de variação instantânea do volume de água no tanque em $t=10$ minutos é:
    \begin{equation}
      V'(10) = 160\,000+40\,000 = 120\,000 ~\text{L}/\text{min}.
    \end{equation}
  \end{enumerate}
\end{ex}

\begin{ex}\normalfont{(Movimento de uma partícula)}
  Consideremos que, no instante $t\geq 0$ segundos ($s$), a posição (em metros, $m$) de uma partícula sobre o eixo $s$ é modelada por $s = t^2-3t$. Vejamos, então, as seguintes conclusões.
  \begin{enumerate}[a)]
  \item A {\bf velocidade} é, por definição, a derivada da função posição em relação ao tempo (taxa de variação da posição em relação ao tempo). Desta forma, temos que a velocidade da partícula no instante $t$ é
    \begin{equation}
      v(t) := \frac{\dd s}{\dd t} = \frac{\dd}{\dd t}(t^2-3t) = 2t-3 ~ \text{m}/\text{s}.
    \end{equation}
  \item A {\bf aceleração} é, por definição, a derivada da função velocidade em relação ao tempo\footnote{A aceleração é a segunda derivada da função velocidade em relação ao tempo.}. Desta forma, temos que a aceleração da partícula no instante $t$ é
    \begin{equation}
      a(t) := \frac{\dd v}{\dd t} = \frac{\dd}{\dd t}(2t-3) = 2 ~ \text{m}/\text{s}^2.
    \end{equation}
  \end{enumerate}
\end{ex}

\begin{ex}
  O volume de um balão esférico é dado em função de seu raio por $\displaystyle V = \frac{4\pi}{3}r^2$. Então, podemos concluir que:
  \begin{enumerate}[a)]
  \item A taxa de variação do volume do balão em relação ao raio quando $r=1$ é
    \begin{align}
      V'(1) &= \left.\frac{\dd V}{\dd r}\right|_{r=1}\\
            &= \left.\frac{8\pi}{3}r\right|_{r=1} = \frac{8\pi}{3}.
    \end{align}
  \item A taxa de variação calculada no item a), significa que, quando $r=1$, o volume do balão está aumentando $16\pi/3$ unidades por unidade do raio. Assim, aproximadamente, se o raio aumentar de $1$ para $1,1$, o volume do balão aumentará $V'(1)(1,1-1) = 0,8\pi/3$. Observamos que, fazendo o cálculo exato, temos que o aumento do volume é de $0,84\pi/3$. 
  \end{enumerate}
\end{ex}

\subsection*{Exercícios}

\emconstrucao

\section{Derivadas de funções trigonométricas}\label{cap_deriv_sec_trigo}

\emconstrucao

\subsection*{Exercícios}

\emconstrucao

\section{Regra da cadeia}\label{cap_deriv_sec_cadeia}

\emconstrucao

\subsection*{Exercícios}

\emconstrucao

\section{Diferenciabilidade da função inversa}\label{cap_deriv_sec_funinv}

Seja $f$ uma função diferenciável e injetora em um intervalo aberto $I$. Então, pode-se mostrar que sua inversa $f^{-1}$ é diferenciável em qualquer ponto da imagem da $f$ no qual $f'(f^{-1}(x))\neq 0$ e sua derivada é
\begin{equation}\label{eq:diff_funinv}
  \frac{d}{dx}[f^{-1}(x)] = \frac{1}{f'(f^{-1}(x))}.
\end{equation}

\begin{ex}
  Seja $f(x) = 2x^3-1$. Para calcular sua inversa, fazemos
  \begin{align}
    y = 2x^3-1 &\Rightarrow y+1 = 2x^3\\
               &\Rightarrow x^3 = \frac{y+1}{2}\\
               &\Rightarrow x = \sqrt[3]{\frac{y+1}{2}}.
  \end{align}
  Ou seja,
  \begin{equation}
    f^{-1}(x) = \sqrt[3]{\frac{x+1}{2}}.
  \end{equation}
  Calculando a derivada de $f^{-1}$ diretamente, temos
  \begin{align}
    \frac{\dd}{\dd x}f^{-1}(x) &= \frac{1}{6\sqrt[3]{\frac{(x+1)^2}{4}}},\\
                          &= \frac{\sqrt[3]{4}}{6\sqrt[3]{(x+1)^2}}.
  \end{align}
  Agora, usando \eqref{eq:diff_funinv} e observando que $f'(x) = 6x^2$, obtemos
  \begin{align}
    \frac{\dd}{\dd x}f^{-1}(x) &= \frac{1}{f'(f^{-1}(x))},\\
                               &= \frac{1}{6\left(\sqrt[3]{\frac{x+1}{2}}\right)^2},
                               &= \frac{\sqrt[3]{4}}{6\sqrt[3]{(x+1)^2}},
  \end{align}
  como esperado.
\end{ex}

\begin{ex}\normalfont{(Derivada da função logarítmica)}
  \begin{itemize}
  \item Tomando $f(x) = e^x$ temos $f^{-1}(x) = \ln x$ e, daí por \eqref{eq:diff_funinv}
    \begin{equation}
      \frac{\dd }{\dd x}\ln x = \frac{1}{e^{\ln x}} = \frac{1}{x}.
    \end{equation}
  \item Tomando $f(x) = a^x$, $a> 0$ e $a\neq 1$, temos $f^{-1}(x) = \log_a x$ e, por \eqref{eq:diff_funinv},
    \begin{equation}
      \frac{\dd}{\dd x}\log_a x = \frac{1}{a^{\log_a x}\ln a} = \frac{1}{x\ln a}.
    \end{equation}
  \end{itemize}
\end{ex}

\begin{ex}\normalfont{(Derivada de funções potência)}
  Em seções anteriores, já vimos que
  \begin{equation}
    \frac{\dd}{\dd x}x^n = nx^{n-1},
  \end{equation}
  para qualquer $n\neq 0$ racional. Também, se $r\neq 0$ é um número real, temos
  \begin{equation}
    y = x^r \Rightarrow \ln y = \ln x^r = r\ln x.
  \end{equation}
  Daí, derivando ambos os lados desta última equação, obtemos
  \begin{align}
    \frac{\dd}{\dd x} \ln y = \frac{\dd}{\dd x} r\ln x &\Rightarrow \frac{1}{y}\frac{\dd y}{\dd x} = \frac{r}{x}\\
                                                       &\Rightarrow \frac{\dd y}{\dd x} = \frac{r}{x}y\\
                                                       &\Rightarrow \frac{\dd y}{\dd x} = rx^{r-1}.
  \end{align}
\end{ex}

\subsection{Derivadas de funções trigonométricas inversas}

Seja $f(x) = \sen x$ restrita a $-\pi/2 \leq x \leq \pi/2$. Sua inversa é a função arco seno, denotada por
\begin{equation}
  y = \arc\sen x.
\end{equation}
Para calcular a derivada da função arco seno, vamos usar \eqref{eq:diff_funinv}, donde
\begin{equation}
  (\arc\sen x)' = \frac{1}{\cos(\arc\sen x)}.
\end{equation}
Como $\cos(\arc\sen x) = \sqrt{1-x^2}$ (veja Figura \ref{fig:diff_arc_sen}, concluímos
\begin{equation}
  (\arc\sen x)' = \frac{1}{\sqrt{1-x^2}}.
\end{equation}

\begin{figure}[H]
  \centering
  \includegraphics[width=0.7\textwidth]{./cap_deriv/dados/fig_diff_arc_sen/fig_diff_arc_sen}
  \caption{Arco seno de um ângulo no triângulo retângulo.}
  \label{fig:diff_arc_sen}
\end{figure}

\begin{ex}
  \begin{equation}
    \frac{\dd}{\dd x}\arc\sen x^2 = \frac{2x}{\sqrt{1-x^2}}.
  \end{equation}
\end{ex}

Com argumentos análogas aos usados no cálculo da derivada da função arco seno, podemos obter as seguintes derivadas:
\begin{align}
  (\arc\cos x)' &= -\frac{1}{\sqrt{1-x^2}}\\
  (\arc\tg x)' &= \frac{1}{1+x^2}\\
  (\arc\cotg x)' &= -\frac{1}{1+x^2}\\
  (\arc\sec x)' &= \frac{1}{|x|\sqrt{x^2-1}}\\
  (\arc\cosec x)' &= -\frac{1}{|x|\sqrt{x^2-1}}
\end{align}

\subsection*{Exercícios}

\emconstrucao

\section{Derivação implícita}\label{cap_deriv_sec_derimp}

Seja $y = y(x)$ definida implicitamente por
\begin{equation}
  g(y(x)) = 0.
\end{equation}
A derivada $\dd y/\dd x$ pode ser calculada via regra da cadeia
\begin{equation}
  \frac{\dd}{\dd x}g(y(x)) = \frac{\dd 0}{\dd x} \Rightarrow g'(y(x))\frac{\dd y}{\dd x} = 0.
\end{equation}

\begin{ex}
  Considere a equação da circunferência unitária
  \begin{equation}
    x^2 + y^2 = 1.
  \end{equation}
  Para calcularmos $\dd y/\dd x$, fazemos
  \begin{align}
    \frac{\dd}{\dd x}\left(x^2+y^2\right) = \frac{\dd 0}{\dd x} &\Rightarrow 2x + \frac{\dd y^2}{\dd y}\frac{\dd y}{\dd x}\\
                                                                &\Rightarrow 2x + 2y\frac{\dd y}{\dd x} = 0\\
                                                                &\Rightarrow \frac{\dd y}{\dd x} = -\frac{x}{y}.
  \end{align}
\end{ex}

\emconstrucao

\subsection*{Exercícios}

