%Este trabalho está licenciado sob a Licença Atribuição-CompartilhaIgual 4.0 Internacional Creative Commons. Para visualizar uma cópia desta licença, visite http://creativecommons.org/licenses/by-sa/4.0/deed.pt_BR ou mande uma carta para Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.

\chapter{Aplicações da derivada}\label{cap_apderiv}
\thispagestyle{fancy}

\ifispython
\begin{obs}
  Nos códigos \verb+Python+ apresentados neste capítulo, assumimos o seguinte preâmbulo:
\begin{verbatim}
from sympy import *
var('x',real=True)
\end{verbatim}
\end{obs}
\fi

\section{Extremos de funções}\label{cap_apderiv_sec_extfun}

Seja $f$ uma função com domínio $D$. Dizemos que $f$ tem valor \emph{máximo absoluto} no ponto $x=a$ quando
\begin{equation}
  f(x) < f(a),
\end{equation}
para todo $x\in D$. Analogamente, dizemos que $f$ tem valor \emph{mínimo absoluto} no ponto $x=b$ quando
\begin{equation}
  f(x) > f(b),
\end{equation}
para todo $x\in D$. Em tais pontos, dizemos que a função têm seus valores \emph{extremos absolutos}.

\begin{ex}\label{ex:vmaxminabs}
  A função $f(x) = x^2$ tem valor mínimo absoluto no ponto $x=0$ e não assume valor máximo absoluto. A função $g(x) = -x^2$ tem valor máximo absoluto no ponto $x=0$ e não assume valor mínimo absoluto. A função $h(x)=x^3$ não assume valores mínimo e máximo absolutos. Veja a Figura \ref{fig:ex_vmaxminabs}.

  \begin{figure}[H]
    \centering
    \includegraphics[width=0.3\textwidth]{./cap_apderiv/dados/fig_ex_vmaxminabs/fig_f}~
    \includegraphics[width=0.3\textwidth]{./cap_apderiv/dados/fig_ex_vmaxminabs/fig_g}~
    \includegraphics[width=0.3\textwidth]{./cap_apderiv/dados/fig_ex_vmaxminabs/fig_h}
    \caption{Esboço das funções discutidas no Exemplo \ref{ex:vmaxminabs}.}
    \label{fig:ex_vmaxminabs}
  \end{figure}
\end{ex}

\begin{teo}\normalfont{(Teorema do valor extremo)}
  Se $f$ é uma função contínua em um intervalo fechado $[a, b]$, então $f$ assume tanto um valor máximo como um valor mínimo absoluto em $[a, b]$.
\end{teo}

\begin{ex}\label{ex:fcont}
  Vejamos os seguintes casos:
  \begin{enumerate}[a)]
  \item  A função $f(x) = (x-1)^2+1$ é contínua no intervalo fechado $[0,\frac{3}{2}]$. Assume valor mínimo absoluto de $1$ no ponto $x=1$. Ainda, assume valor máximo absoluto igual a $2$ no ponto $x=0$. Veja Figura \ref{fig:ex_fcont_f}.
  \begin{figure}[H]
    \centering
    \includegraphics[width=0.5\textwidth]{./cap_apderiv/dados/fig_ex_fcont/fig_f}
    \caption{Esboço do gráfico de $f(x) = (x-1)^2+1$ no intervalo $[0,\frac{3}{2}]$. Veja o Exemplo \ref{ex:fcont} a).}
    \label{fig:ex_fcont_f}
  \end{figure}
\item A função $g(x) = \ln x$ é contínua no intervalo $(0, e]$. Neste intervalo, assume valor máximo absoluto no ponto $x=e$, mas não assume valor mínimo absoluto. Veja Figura \ref{fig:ex_fcont_g}.
  \begin{figure}[H]
    \centering
    \includegraphics[width=0.5\textwidth]{./cap_apderiv/dados/fig_ex_fcont/fig_g}
    \caption{Esboço do gráfico de $g(x) = \ln x$ no intervalo $(0,e]$. Veja o Exemplo \ref{ex:fcont} b).}
    \label{fig:ex_fcont_g}
  \end{figure}
  
\item A função
  \begin{equation}
    h(x) = \left\{
      \begin{array}{ll}
        x &, 0\leq x < 1,\\
        0 &, x=1,
      \end{array}
\right.
\end{equation}
definida no intervalo $[0,1]$ é descontínua no ponto $x=1$. Neste intervalo, assume valor mínimo absoluto no ponto $x=0$, mas não assume valor máximo absoluto. Veja a Figura \ref{fig:ex_fcont_h}.
  \begin{figure}[H]
    \centering
    \includegraphics[width=0.5\textwidth]{./cap_apderiv/dados/fig_ex_fcont/fig_h}
    \caption{Esboço do gráfico de $h(x)$ no intervalo $[0,1]$. Veja o Exemplo \ref{ex:fcont} c).}
    \label{fig:ex_fcont_h}
  \end{figure}
  \end{enumerate}
\end{ex}

Uma função $f$ tem um valor \emph{máximo local} em um ponto interior $x=a$ de seu domínio, se $f(x) \leq f(a)$ para qualquer $x$ em um intervalo aberto que contenha o ponto $a$. Analogamente, $f$ tem um valor \emph{mínimo local} em um ponto interior $x=b$ de seu domínio, se $f(x) \geq f(b)$  para qualquer $x$ em um intervalo aberto que contenha o ponto $b$. Em tais pontos, dizemos que a função têm valores \emph{extremos locais} (ou relativos).

\begin{ex}\label{ex:vmaxminloc}
  Consideremos a função
  \begin{equation}
    f(x) = \left\{
      \begin{array}{ll}
        -(x+1)^2-2 &, -2\leq x < \frac{1}{2},\\
        |x| &, \frac{1}{2} \leq x < 1,\\
        (x-2)^3+2 &, 1\leq x < 3.
      \end{array}
\right.
\end{equation}
  \begin{figure}[H]
    \centering
    \includegraphics[width=0.5\textwidth]{./cap_apderiv/dados/fig_ex_vmaxminloc/fig_f}
    \caption{Esboço do gráfico de $f(x)$ discutida no Exemplo \ref{ex:vmaxminloc}.}
    \label{fig:ex_vmaxminloc}
  \end{figure}
  
Na Figura \ref{fig:ex_vmaxminloc} temos o esboço de seu gráfico. Por inferência, temos que $f$ tem um valor máximo local no ponto $x=-1$ e tem um valor mínimo local no ponto $x=0$. Observamos que $x=-2$, $x=-1/2$, $x=2$ e $x=3$ não são pontos de extremos locais desta função. No ponto $x=-2$, $f$ tem seu valor mínimo absoluto. Ainda, $f$ não tem valor máximo absoluto.
\end{ex}

\begin{teo}\normalfont{(Teorema da derivada para pontos extremos locais.)}
  Se $f$ possui um valor extremo local em um ponto $x=a$ e $f$ é diferenciável neste ponto, então
  \begin{equation}
    f'(a) = 0.
  \end{equation}
\end{teo}

Deste teorema, podemos concluir que uma função $f$ pode ter valores extremos em:
\begin{enumerate}
\item pontos interiores de seu domínio onde $f' = 0$,
\item pontos interiores de seu domínio onde $f'$ não existe, ou
\item pontos extremos de seu domínio.
\end{enumerate}
Um ponto interior do domínio de uma função $f$ onde $f'=0$ ou não existe, é chamado de \emph{ponto crítico} da função. Desta forma, afirmamos que $f$ pode ter valores extremos em pontos críticos ou nos extremos de seu domínio.

\begin{ex}
  Consideramos a função $f(x)$ discutida no Exemplo \ref{ex:vmaxminloc}. No ponto $x=-1$, $f'(-1)=0$ e $f$ tem valor máximo local neste ponto. Entretanto, no ponto $x=2$, também temos $f'(2)=0$, mas $f$ não tem valor extremo neste ponto.

  No ponto $x=0$, $f'(0)$ não existe e $f$ tem valor mínimo local neste ponto. Entretanto, no ponto $x=-\frac{1}{2}$, $f'\left(-\frac{1}{2}\right)$ não existe e $f$ não tem extremo local neste ponto.

  Nos extremos do domínio, temos que $f$ tem valor mínimo absoluto no ponto $x=-2$, mas não tem extremo absoluto no ponto $x=3$.
\end{ex}

\subsection{Exercícios resolvidos}

\begin{exeresol}\label{exeresol:f_diff}
  Determine os pontos extremos da função $f(x) = (x+1)^2-1$ no intervalo $[-2,1]$.
\end{exeresol}
\begin{resol}
  Os valores extremos de um função podem ocorrer, somente, em seus pontos críticos ou nos extremos de seu domínio. Como $f(x) = (x+1)^2-1$ é diferenciável no intervalo $(-2,1)$, seus pontos críticos são pontos tais que $f'=0$. Para identificá-los, calculamos
  \begin{align}
    f'(x)=0 &\Rightarrow 2(x+1) = 0\\
            &\Rightarrow x = -1.
  \end{align}

  \begin{figure}[H]
    \centering
    \includegraphics[width=0.5\textwidth]{./cap_apderiv/dados/fig_exeresol_f_diff/fig_exeresol_f_diff}
    \caption{Esboço do gráfico da função $f(x) = (x+1)^2-1$ discutida no Exercício Resolvido \ref{exeresol:f_diff}.}
    \label{fig:exeresol_f_diff}
  \end{figure}

  Desta forma, $f$ pode ter valores extremos nos ponto $x=-2$, $x=-1$ e $x=1$. Analisamos, então, o esboço do gráfico da função (Figura \ref{fig:exeresol_f_diff}) e a seguinte tabela:\\
  \begin{center}
  \begin{tabular}[H]{l|ccc}
    $x$ & -2 & -1 & 1 \\\hline
    $f(x)$ & 0 & -1 & 3\\\hline
  \end{tabular}
\end{center}
Daí, podemos concluir que $f$ tem o valor mínimo absoluto (e local) de $f(-1)=-1$ no ponto $x=-1$ e tem valor máximo absoluto de $f(1)=3$ no ponto $x=1$.

\begin{ifispython}
  Podemos usar o \verb+Sympy+ para computar os pontos extremos e plotar a função. Por exemplo, com os seguintes comandos:
\begin{verbatim}
# f(x)
f = lambda x: (x+1)**2-1
# f'(x)
fl = lambda x: diff(f(x),x)
# f'(x)=0
solve(fl(x),x)
# valores nos extremos e no pto crítico
f(-2), f(-1), f(1)
# esboço do gráfico
plot((x+1)**2-1,(x,-2,1),show=True)
\end{verbatim}
\end{ifispython}
\end{resol}

\begin{exeresol}\label{exeresol:p_infl}
  Determine os pontos extremos da função $f(x)=x^3$ no intervalo $[-1,1]$.
\end{exeresol}
\begin{resol}
  Como $f$ é diferenciável no intervalo $(-1,1)$, temos que seus pontos críticos são tais que $f'(x)=0$. Neste caso, temos
  \begin{equation}
    3x^2=0\Rightarrow x=0
  \end{equation}
  é o único ponto crítico de $f$. Entretanto, analisando o gráfico desta função (Figura \ref{fig:exeresol_p_infl}) vemos $f$ não tem valor extremo local neste ponto. Assim, os pontos extremos da $f$ só podem ocorrer nos extremos do domínio $[-1,1]$. Concluímos que $f(-1)=-1$ é o valor mínimo absoluto de $f$ e $f(1)=1$ é seu valor máximo absoluto.

  \begin{figure}[H]
    \centering
    \includegraphics[width=0.5\textwidth]{./cap_apderiv/dados/fig_exeresol_p_infl/fig_exeresol_p_infl}
    \caption{Esboço do gráfico da função $f(x) = x^3$ discutida no Exercício Resolvido \ref{exeresol:p_infl}.}
    \label{fig:exeresol_f_diff}
  \end{figure}
\end{resol}

\subsection{Exercícios}

\begin{ex}
  Determine os pontos extremos da função $f(x)=x^{1/3}$ no intervalo $[-1,1]$.
\end{ex}
\begin{resp}
  $f(-1)=-1$ é o valor mínimo absoluto; $f(1)=1$ é o valor máximo absoluto.
\end{resp}

\emconstrucao